
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Parallel agentic coding workflow orchestrator">
      
      
      
        <link rel="canonical" href="https://your-username.github.io/prunejuice/guides/command-definition/">
      
      
        <link rel="prev" href="../../quickstart/first-command/">
      
      
        <link rel="next" href="../step-creation/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Command Definition - Prunejuice Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#how-to-define-commands-primary-focus" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Prunejuice Documentation" class="md-header__button md-logo" aria-label="Prunejuice Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Prunejuice Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Command Definition
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/your-username/prunejuice" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    your-username/prunejuice
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../quickstart/new-project/" class="md-tabs__link">
          
  
  
  Quickstart

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
  Guides

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../concepts/worktrees/" class="md-tabs__link">
          
  
  
  Concepts

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../reference/commands/" class="md-tabs__link">
          
  
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../advanced/custom-integrations/" class="md-tabs__link">
          
  
  
  Advanced

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Prunejuice Documentation" class="md-nav__button md-logo" aria-label="Prunejuice Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Prunejuice Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/your-username/prunejuice" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    your-username/prunejuice
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Quickstart
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Quickstart
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/new-project/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    New Project
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/existing-project/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Existing Project
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/first-command/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    First Command
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Command Definition
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Command Definition
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview-of-sdlc-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Overview of SDLC Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview of SDLC Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#related-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Related Documentation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#yaml-structure-and-properties" class="md-nav__link">
    <span class="md-ellipsis">
      YAML Structure and Properties
    </span>
  </a>
  
    <nav class="md-nav" aria-label="YAML Structure and Properties">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-command-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Command Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Core Properties
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Properties">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Required Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Optional Properties
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arguments-and-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments and Environment Variables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Arguments and Environment Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defining-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Defining Arguments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Defining Arguments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#argument-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Argument Properties
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Variables
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-definitions-and-execution" class="md-nav__link">
    <span class="md-ellipsis">
      Step Definitions and Execution
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step Definitions and Execution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-types" class="md-nav__link">
    <span class="md-ellipsis">
      Step Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-definition-formats" class="md-nav__link">
    <span class="md-ellipsis">
      Step Definition Formats
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step Definition Formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-string-format-auto-detected" class="md-nav__link">
    <span class="md-ellipsis">
      Simple String Format (Auto-detected)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explicit-format-full-control" class="md-nav__link">
    <span class="md-ellipsis">
      Explicit Format (Full Control)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-execution-order" class="md-nav__link">
    <span class="md-ellipsis">
      Step Execution Order
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#built-in-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Built-in Steps
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#real-examples-from-template-files" class="md-nav__link">
    <span class="md-ellipsis">
      Real Examples from Template Files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Real Examples from Template Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-example-command" class="md-nav__link">
    <span class="md-ellipsis">
      Simple Example Command
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-with-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Command with Arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-workflow-command" class="md-nav__link">
    <span class="md-ellipsis">
      Complex Workflow Command
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-based-command" class="md-nav__link">
    <span class="md-ellipsis">
      Session-based Command
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-inheritance-and-base-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Command Inheritance and Base Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Command Inheritance and Base Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-the-extends-property" class="md-nav__link">
    <span class="md-ellipsis">
      Using the extends Property
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inheritance-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Inheritance Rules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-creation-and-script-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Step Creation and Script Integration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step Creation and Script Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-custom-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Creating Custom Steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating Custom Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-step-script" class="md-nav__link">
    <span class="md-ellipsis">
      Example Step Script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-management-step" class="md-nav__link">
    <span class="md-ellipsis">
      Session Management Step
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-discovery" class="md-nav__link">
    <span class="md-ellipsis">
      Step Discovery
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices-for-command-creation" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices for Command Creation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices for Command Creation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-use-descriptive-names-and-categories" class="md-nav__link">
    <span class="md-ellipsis">
      1. Use Descriptive Names and Categories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-define-clear-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      2. Define Clear Arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-structure-steps-logically" class="md-nav__link">
    <span class="md-ellipsis">
      3. Structure Steps Logically
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-set-appropriate-timeouts" class="md-nav__link">
    <span class="md-ellipsis">
      4. Set Appropriate Timeouts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-use-environment-variables-effectively" class="md-nav__link">
    <span class="md-ellipsis">
      5. Use Environment Variables Effectively
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-implement-proper-error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      6. Implement Proper Error Handling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-make-commands-composable" class="md-nav__link">
    <span class="md-ellipsis">
      7. Make Commands Composable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-document-command-purpose" class="md-nav__link">
    <span class="md-ellipsis">
      8. Document Command Purpose
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-storage-and-discovery" class="md-nav__link">
    <span class="md-ellipsis">
      Command Storage and Discovery
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Command Storage and Discovery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#project-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Project Commands
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#template-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Template Commands
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-priority" class="md-nav__link">
    <span class="md-ellipsis">
      Command Priority
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../step-creation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Step Creation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../project-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workflows
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Concepts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/worktrees/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Worktrees
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/sessions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sessions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Commands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/yaml-schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    YAML Schema
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Advanced
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Advanced
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/custom-integrations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Custom Integrations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/mcp-server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MCP Server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview-of-sdlc-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Overview of SDLC Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview of SDLC Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#related-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Related Documentation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#yaml-structure-and-properties" class="md-nav__link">
    <span class="md-ellipsis">
      YAML Structure and Properties
    </span>
  </a>
  
    <nav class="md-nav" aria-label="YAML Structure and Properties">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-command-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Command Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Core Properties
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Properties">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Required Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Optional Properties
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arguments-and-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments and Environment Variables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Arguments and Environment Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defining-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Defining Arguments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Defining Arguments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#argument-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Argument Properties
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Variables
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-definitions-and-execution" class="md-nav__link">
    <span class="md-ellipsis">
      Step Definitions and Execution
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step Definitions and Execution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-types" class="md-nav__link">
    <span class="md-ellipsis">
      Step Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-definition-formats" class="md-nav__link">
    <span class="md-ellipsis">
      Step Definition Formats
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step Definition Formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-string-format-auto-detected" class="md-nav__link">
    <span class="md-ellipsis">
      Simple String Format (Auto-detected)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explicit-format-full-control" class="md-nav__link">
    <span class="md-ellipsis">
      Explicit Format (Full Control)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-execution-order" class="md-nav__link">
    <span class="md-ellipsis">
      Step Execution Order
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#built-in-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Built-in Steps
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#real-examples-from-template-files" class="md-nav__link">
    <span class="md-ellipsis">
      Real Examples from Template Files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Real Examples from Template Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-example-command" class="md-nav__link">
    <span class="md-ellipsis">
      Simple Example Command
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-with-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Command with Arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-workflow-command" class="md-nav__link">
    <span class="md-ellipsis">
      Complex Workflow Command
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-based-command" class="md-nav__link">
    <span class="md-ellipsis">
      Session-based Command
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-inheritance-and-base-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Command Inheritance and Base Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Command Inheritance and Base Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-the-extends-property" class="md-nav__link">
    <span class="md-ellipsis">
      Using the extends Property
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inheritance-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Inheritance Rules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-creation-and-script-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Step Creation and Script Integration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step Creation and Script Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-custom-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Creating Custom Steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating Custom Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-step-script" class="md-nav__link">
    <span class="md-ellipsis">
      Example Step Script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-management-step" class="md-nav__link">
    <span class="md-ellipsis">
      Session Management Step
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-discovery" class="md-nav__link">
    <span class="md-ellipsis">
      Step Discovery
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices-for-command-creation" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices for Command Creation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices for Command Creation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-use-descriptive-names-and-categories" class="md-nav__link">
    <span class="md-ellipsis">
      1. Use Descriptive Names and Categories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-define-clear-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      2. Define Clear Arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-structure-steps-logically" class="md-nav__link">
    <span class="md-ellipsis">
      3. Structure Steps Logically
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-set-appropriate-timeouts" class="md-nav__link">
    <span class="md-ellipsis">
      4. Set Appropriate Timeouts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-use-environment-variables-effectively" class="md-nav__link">
    <span class="md-ellipsis">
      5. Use Environment Variables Effectively
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-implement-proper-error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      6. Implement Proper Error Handling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-make-commands-composable" class="md-nav__link">
    <span class="md-ellipsis">
      7. Make Commands Composable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-document-command-purpose" class="md-nav__link">
    <span class="md-ellipsis">
      8. Document Command Purpose
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-storage-and-discovery" class="md-nav__link">
    <span class="md-ellipsis">
      Command Storage and Discovery
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Command Storage and Discovery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#project-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Project Commands
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#template-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Template Commands
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-priority" class="md-nav__link">
    <span class="md-ellipsis">
      Command Priority
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="how-to-define-commands-primary-focus">How to Define Commands (PRIMARY FOCUS)</h1>
<p>This comprehensive guide covers everything you need to know about defining commands in Prunejuice, including YAML syntax, command composition, and advanced patterns.</p>
<h2 id="overview-of-sdlc-commands">Overview of SDLC Commands</h2>
<p>SDLC (Software Development Life Cycle) commands are the core building blocks of Prunejuice workflows. They encapsulate common development tasks like code analysis, testing, branch management, and deployment into reusable, configurable units.</p>
<p>Each command is defined in YAML format and consists of:
- <strong>Metadata</strong>: Name, description, category
- <strong>Arguments</strong>: User-configurable inputs
- <strong>Environment</strong>: Variables passed to steps
- <strong>Steps</strong>: The actual work to be performed
- <strong>Error handling</strong>: Cleanup and failure recovery</p>
<p>Commands can be composed together, inherit from base commands, and integrate with external tools to create powerful automation workflows.</p>
<h3 id="related-documentation">Related Documentation</h3>
<ul>
<li><strong><a href="../step-creation/">Step Creation Guide</a></strong> - Learn how to create custom step implementations</li>
<li><strong><a href="../../reference/yaml-schema/">YAML Schema Reference</a></strong> - Complete schema documentation with validation rules</li>
<li><strong><a href="../../concepts/worktrees/">Git Worktrees</a></strong> - Understanding worktree integration</li>
<li><strong><a href="../../concepts/sessions/">Tmux Sessions</a></strong> - Session management concepts</li>
<li><strong><a href="../../reference/config/">Configuration Options</a></strong> - Project and global configuration</li>
</ul>
<h2 id="yaml-structure-and-properties">YAML Structure and Properties</h2>
<h3 id="basic-command-structure">Basic Command Structure</h3>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">command-name</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Brief description of what this command does</span>
<span class="nt">category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">workflow</span>
<span class="nt">arguments</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arg_name</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Description of the argument</span>
<span class="nt">environment</span><span class="p">:</span>
<span class="w">  </span><span class="nt">VARIABLE_NAME</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;value&quot;</span>
<span class="nt">pre_steps</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">setup-step</span>
<span class="nt">steps</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">main-action-step</span>
<span class="nt">post_steps</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cleanup-step</span>
<span class="nt">cleanup_on_failure</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">error-cleanup-step</span>
<span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1800</span>
</code></pre></div>
<h3 id="core-properties">Core Properties</h3>
<h4 id="required-properties">Required Properties</h4>
<ul>
<li><strong><code>name</code></strong> (string): Unique identifier for the command</li>
<li><strong><code>description</code></strong> (string): Human-readable description</li>
<li><strong><code>steps</code></strong> (list): Main execution steps</li>
</ul>
<h4 id="optional-properties">Optional Properties</h4>
<ul>
<li><strong><code>category</code></strong> (string): Grouping category (default: "workflow")</li>
<li><strong><code>arguments</code></strong> (list): Command-line arguments</li>
<li><strong><code>environment</code></strong> (dict): Environment variables</li>
<li><strong><code>pre_steps</code></strong> (list): Steps executed before main steps</li>
<li><strong><code>post_steps</code></strong> (list): Steps executed after main steps</li>
<li><strong><code>cleanup_on_failure</code></strong> (list): Steps executed when command fails</li>
<li><strong><code>timeout</code></strong> (integer): Maximum execution time in seconds (default: 1800)</li>
<li><strong><code>working_directory</code></strong> (string): Directory to execute command in</li>
<li><strong><code>extends</code></strong> (string): Inherit from base command</li>
<li><strong><code>prompt_file</code></strong> (string): Associated prompt file for AI integration</li>
</ul>
<h2 id="arguments-and-environment-variables">Arguments and Environment Variables</h2>
<h3 id="defining-arguments">Defining Arguments</h3>
<p>Arguments make commands flexible and reusable:</p>
<div class="highlight"><pre><span></span><code><span class="nt">arguments</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">issue_number</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GitHub issue number to analyze</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">branch_name</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;main&quot;</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Target branch for comparison</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">focus_areas</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Comma-separated areas to focus on</span>
</code></pre></div>
<h4 id="argument-properties">Argument Properties</h4>
<ul>
<li><strong><code>name</code></strong>: Argument identifier (becomes <code>PRUNEJUICE_ARG_&lt;NAME&gt;</code> environment variable)</li>
<li><strong><code>required</code></strong>: Whether argument is mandatory</li>
<li><strong><code>type</code></strong>: Data type ("string", "integer", "boolean")</li>
<li><strong><code>default</code></strong>: Default value if not provided</li>
<li><strong><code>description</code></strong>: Help text for users</li>
</ul>
<h3 id="environment-variables">Environment Variables</h3>
<p>Environment variables provide context to steps:</p>
<div class="highlight"><pre><span></span><code><span class="nt">environment</span><span class="p">:</span>
<span class="w">  </span><span class="nt">PRUNEJUICE_TASK</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;code-review&quot;</span>
<span class="w">  </span><span class="nt">TARGET_BRANCH</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;main&quot;</span>
<span class="w">  </span><span class="nt">REVIEW_MODE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;comprehensive&quot;</span>
</code></pre></div>
<p>Arguments are automatically converted to environment variables with the <code>PRUNEJUICE_ARG_</code> prefix:
- <code>issue_number</code> argument becomes <code>PRUNEJUICE_ARG_ISSUE_NUMBER</code>
- <code>branch_name</code> argument becomes <code>PRUNEJUICE_ARG_BRANCH_NAME</code></p>
<h2 id="step-definitions-and-execution">Step Definitions and Execution</h2>
<h3 id="step-types">Step Types</h3>
<p>Prunejuice supports three types of steps:</p>
<ol>
<li><strong>Built-in Steps</strong>: Predefined actions within Prunejuice</li>
<li><strong>Script Steps</strong>: External shell scripts or executables</li>
<li><strong>Shell Steps</strong>: Inline shell commands</li>
</ol>
<h3 id="step-definition-formats">Step Definition Formats</h3>
<h4 id="simple-string-format-auto-detected">Simple String Format (Auto-detected)</h4>
<div class="highlight"><pre><span></span><code><span class="nt">steps</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">echo-hello-step</span><span class="w">           </span><span class="c1"># Built-in step</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./scripts/analyze.sh</span><span class="w">      </span><span class="c1"># Script step</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;git</span><span class="nv"> </span><span class="s">status</span><span class="nv"> </span><span class="s">&amp;&amp;</span><span class="nv"> </span><span class="s">git</span><span class="nv"> </span><span class="s">log&quot;</span><span class="w">   </span><span class="c1"># Shell step</span>
</code></pre></div>
<h4 id="explicit-format-full-control">Explicit Format (Full Control)</h4>
<div class="highlight"><pre><span></span><code><span class="nt">steps</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-analysis</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">script</span>
<span class="w">    </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./scripts/analyze.sh</span>
<span class="w">    </span><span class="nt">args</span><span class="p">:</span>
<span class="w">      </span><span class="nt">target</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;src/&quot;</span>
<span class="w">      </span><span class="nt">depth</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">    </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">600</span>
</code></pre></div>
<h3 id="step-execution-order">Step Execution Order</h3>
<p>Commands execute steps in this order:
1. <strong><code>pre_steps</code></strong>: Setup and preparation
2. <strong><code>steps</code></strong>: Main command logic
3. <strong><code>post_steps</code></strong>: Cleanup and finalization
4. <strong><code>cleanup_on_failure</code></strong>: Error recovery (only on failure)</p>
<h3 id="built-in-steps">Built-in Steps</h3>
<p>Common built-in steps include:
- <code>setup-environment</code>: Initialize execution environment
- <code>validate-prerequisites</code>: Check system requirements
- <code>gather-context</code>: Collect project information
- <code>create-worktree</code>: Set up isolated git worktree
- <code>start-session</code>: Launch interactive session
- <code>store-artifacts</code>: Save execution results</p>
<h2 id="real-examples-from-template-files">Real Examples from Template Files</h2>
<h3 id="simple-example-command">Simple Example Command</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># echo-hello.yaml</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">echo-hello</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Simple echo command example - outputs hello</span>
<span class="nt">category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example</span>
<span class="nt">steps</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">echo-hello-step</span>
<span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300</span>
</code></pre></div>
<h3 id="command-with-arguments">Command with Arguments</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># echo-arg.yaml</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">echo-arg</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Echo command with argument example - echoes back provided message</span>
<span class="nt">category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example</span>
<span class="nt">arguments</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">message</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Message to echo back</span>
<span class="nt">steps</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">echo-arg-step</span>
<span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300</span>
</code></pre></div>
<h3 id="complex-workflow-command">Complex Workflow Command</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># analyze-issue.yaml</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">analyze-issue</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Analyze a GitHub issue and create implementation plan</span>
<span class="nt">category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">analysis</span>
<span class="nt">arguments</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">issue_number</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GitHub issue number to analyze</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">branch_name</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Optional branch name for worktree</span>
<span class="nt">environment</span><span class="p">:</span>
<span class="w">  </span><span class="nt">PRUNEJUICE_TASK</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;analyze-issue&quot;</span>
<span class="nt">pre_steps</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">setup-environment</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">validate-prerequisites</span>
<span class="nt">steps</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gather-context</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">create-worktree</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">start-session</span>
<span class="nt">post_steps</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">store-artifacts</span>
<span class="nt">cleanup_on_failure</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cleanup</span>
<span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1800</span>
</code></pre></div>
<h3 id="session-based-command">Session-based Command</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># echo-hello-in-session.yaml</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">echo-hello-in-session</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Demonstrate session workflow - create detached session, send commands, destroy session</span>
<span class="nt">category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example</span>
<span class="nt">steps</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">session-create</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">session-echo-hello</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">session-destroy</span>
<span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">600</span>
</code></pre></div>
<h2 id="command-inheritance-and-base-commands">Command Inheritance and Base Commands</h2>
<h3 id="using-the-extends-property">Using the <code>extends</code> Property</h3>
<p>Commands can inherit from base commands to reduce duplication:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Base command</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">base-analysis</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Base analysis workflow</span>
<span class="nt">pre_steps</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">setup-environment</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">validate-prerequisites</span>
<span class="nt">post_steps</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">store-artifacts</span>
<span class="nt">cleanup_on_failure</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cleanup</span>

<span class="c1"># Derived command</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">security-analysis</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Security-focused code analysis</span>
<span class="nt">extends</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">base-analysis</span>
<span class="nt">environment</span><span class="p">:</span>
<span class="w">  </span><span class="nt">ANALYSIS_TYPE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;security&quot;</span>
<span class="nt">steps</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">security-scan</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">vulnerability-check</span>
</code></pre></div>
<h3 id="inheritance-rules">Inheritance Rules</h3>
<ul>
<li>Child commands override parent properties</li>
<li>Lists (steps, arguments) are merged unless overridden completely</li>
<li>Environment variables are merged, with child values taking precedence</li>
<li>Timeout and other scalar values are replaced, not merged</li>
</ul>
<h2 id="step-creation-and-script-integration">Step Creation and Script Integration</h2>
<h3 id="creating-custom-steps">Creating Custom Steps</h3>
<p>Steps are typically shell scripts stored in the project's <code>.prj/steps/</code> directory or Prunejuice's <code>template_steps/</code> directory.</p>
<h4 id="example-step-script">Example Step Script</h4>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1"># echo-arg-step.sh - Echo argument step</span>

<span class="c1"># Get the message argument from environment variable</span>
<span class="nv">message</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">PRUNEJUICE_ARG_MESSAGE</span><span class="k">:-</span><span class="nv">No</span><span class="p"> message provided</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$message</span><span class="s2">&quot;</span>
</code></pre></div>
<h4 id="session-management-step">Session Management Step</h4>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1"># session-create.sh - Create a detached tmux session</span>

<span class="nv">session_name</span><span class="o">=</span><span class="s2">&quot;echo-hello&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Creating detached tmux session: </span><span class="nv">$session_name</span><span class="s2">&quot;</span>

<span class="c1"># Create session and capture output</span>
<span class="nv">output</span><span class="o">=</span><span class="k">$(</span>prj<span class="w"> </span>session<span class="w"> </span>create<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$session_name</span><span class="s2">&quot;</span><span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="k">)</span>
<span class="nv">create_exit_code</span><span class="o">=</span><span class="nv">$?</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$output</span><span class="s2">&quot;</span>

<span class="c1"># Verify session was created</span>
<span class="nv">actual_session</span><span class="o">=</span><span class="k">$(</span>tmux<span class="w"> </span>list-sessions<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;echo-hello&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d:<span class="w"> </span>-f1<span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-1<span class="k">)</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$actual_session</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot; Detached session created successfully with name: </span><span class="nv">$actual_session</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="c1"># Store session name for other steps</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$actual_session</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/tmp/prunejuice_session_name
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot; Session creation failed&quot;</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>
</code></pre></div>
<h3 id="step-discovery">Step Discovery</h3>
<p>Prunejuice discovers steps from:
1. Project-specific steps: <code>.prj/steps/</code>
2. Built-in template steps: <code>src/prunejuice/template_steps/</code></p>
<p>Steps are matched by name, with project-specific steps taking precedence.</p>
<h2 id="best-practices-for-command-creation">Best Practices for Command Creation</h2>
<h3 id="1-use-descriptive-names-and-categories">1. Use Descriptive Names and Categories</h3>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">feature-branch-setup</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Create feature branch with full development environment</span>
<span class="nt">category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">development</span>
</code></pre></div>
<h3 id="2-define-clear-arguments">2. Define Clear Arguments</h3>
<div class="highlight"><pre><span></span><code><span class="nt">arguments</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">feature_name</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Name of the feature to implement</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">issue_number</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Related GitHub issue number</span>
</code></pre></div>
<h3 id="3-structure-steps-logically">3. Structure Steps Logically</h3>
<div class="highlight"><pre><span></span><code><span class="nt">pre_steps</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">setup-environment</span><span class="w">      </span><span class="c1"># Environment preparation</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">validate-prerequisites</span><span class="w"> </span><span class="c1"># Dependency checking</span>
<span class="nt">steps</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gather-context</span><span class="w">         </span><span class="c1"># Main workflow</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">create-worktree</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">start-session</span>
<span class="nt">post_steps</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">store-artifacts</span><span class="w">        </span><span class="c1"># Result preservation</span>
<span class="nt">cleanup_on_failure</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cleanup</span><span class="w">               </span><span class="c1"># Error recovery</span>
</code></pre></div>
<h3 id="4-set-appropriate-timeouts">4. Set Appropriate Timeouts</h3>
<div class="highlight"><pre><span></span><code><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1800</span><span class="w">  </span><span class="c1"># 30 minutes for complex analysis</span>
<span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300</span><span class="w">   </span><span class="c1"># 5 minutes for simple operations</span>
<span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">600</span><span class="w">   </span><span class="c1"># 10 minutes for session operations</span>
</code></pre></div>
<h3 id="5-use-environment-variables-effectively">5. Use Environment Variables Effectively</h3>
<div class="highlight"><pre><span></span><code><span class="nt">environment</span><span class="p">:</span>
<span class="w">  </span><span class="nt">PRUNEJUICE_TASK</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;feature-development&quot;</span><span class="w">  </span><span class="c1"># Task context</span>
<span class="w">  </span><span class="nt">DEBUG_MODE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;false&quot;</span><span class="w">                     </span><span class="c1"># Configuration</span>
<span class="w">  </span><span class="nt">LOG_LEVEL</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;info&quot;</span><span class="w">                       </span><span class="c1"># Logging control</span>
</code></pre></div>
<h3 id="6-implement-proper-error-handling">6. Implement Proper Error Handling</h3>
<div class="highlight"><pre><span></span><code><span class="nt">cleanup_on_failure</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cleanup-worktree</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">remove-temp-files</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">notify-failure</span>
</code></pre></div>
<h3 id="7-make-commands-composable">7. Make Commands Composable</h3>
<p>Design commands that can work together:
- Use consistent argument naming
- Maintain predictable output formats
- Store intermediate results for chaining</p>
<h3 id="8-document-command-purpose">8. Document Command Purpose</h3>
<p>Include comprehensive descriptions and argument help:
<div class="highlight"><pre><span></span><code><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">  </span><span class="no">Analyze a GitHub issue and create implementation plan.</span>

<span class="w">  </span><span class="no">This command creates an isolated worktree, analyzes the issue context,</span>
<span class="w">  </span><span class="no">and starts an interactive session for development planning.</span>
</code></pre></div></p>
<h2 id="command-storage-and-discovery">Command Storage and Discovery</h2>
<h3 id="project-commands">Project Commands</h3>
<p>Store custom commands in <code>.prj/commands/</code> directory:
<div class="highlight"><pre><span></span><code>project-root/
 .prj/
    commands/
       my-workflow.yaml
       custom-analysis.yaml
    steps/
        my-step.sh
        analysis-script.py
</code></pre></div></p>
<h3 id="template-commands">Template Commands</h3>
<p>Built-in commands are provided in <code>src/prunejuice/template_commands/</code>:
- <code>analyze-issue.yaml</code>
- <code>code-review.yaml</code>
- <code>feature-branch.yaml</code>
- Example commands for learning</p>
<h3 id="command-priority">Command Priority</h3>
<ol>
<li>Project-specific commands (<code>.prj/commands/</code>)</li>
<li>Built-in template commands</li>
<li>Project commands override templates with same name</li>
</ol>
<p>This comprehensive guide provides the foundation for creating powerful, reusable SDLC commands in Prunejuice. Start with simple examples and gradually build more complex workflows as you become familiar with the system.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.highlight", "search.share", "content.code.copy"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>